
<h2 fxLayoutAlign="center center">PASSPHRASE</h2>

<mat-divider></mat-divider>

<form [formGroup]="generateForm" (ngSubmit)="savePassphrase()" class="generate-form">
  <mat-tab-group (selectedTabChange)="tabChanged($event)">
    <mat-tab>
      <ng-template mat-tab-label>
        Generate
      </ng-template>
      <ng-template matTabContent>
        <p>Get Your Passphrase</p>
        <mat-form-field class="full-width">
          <textarea matInput matTextareaAutosize readonly="true" formControlName="passphrase" required></textarea>
          <mat-icon matSuffix (click)="generateRandomMnemonic()">refresh</mat-icon>
        </mat-form-field>
      </ng-template>
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        Import
      </ng-template>
      <ng-template matTabContent>
        <p>Paste Your Passphrase</p>
        <mat-form-field class="full-width">
          <textarea matInput formControlName="passphrase" required></textarea>
          <mat-error *ngIf="passphraseControl.hasError('required')">
              required
          </mat-error>
          <mat-error *ngIf="passphraseControl.hasError('twelveWords')">
              words12
          </mat-error>
        </mat-form-field>
      </ng-template>
    </mat-tab>
  </mat-tab-group>

  <mat-form-field *ngIf="isAdvancedModeEnabled" class="full-width">
    <mat-label>Seed Version</mat-label>
    <mat-select formControlName="seedVersion" (selectionChange)="versionChanged()" required>
      <mat-option *ngFor="let v of seedVersions" [value]="v">
        {{ v }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  
  <mat-form-field *ngIf="isAdvancedModeEnabled && seedVersionControl.value === 'Bip39' && isGenerate" class="full-width">
    <mat-label>Seed Language</mat-label>
    <mat-select formControlName="seedLanguage" (selectionChange)="generateRandomMnemonic()" required>
      <mat-option *ngFor="let lang of languages" [value]="lang">
        {{ lang }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  
  <mat-form-field *ngIf="isAdvancedModeEnabled" class="full-width">
    <textarea matInput placeholder="Base Derivation Path" formControlName="basePath" required></textarea>
  </mat-form-field>

  <label fxLayout="row">
    <mat-checkbox fxLayoutAlign="center center" formControlName="isSaved" required></mat-checkbox>
    <p class="is-saved-label">I have written down or otherwise securely stored my passphrase.</p>
  </label>
  <mat-error *ngIf="isSavedControl.hasError('required')">
    You should save passphrase.
  </mat-error>

  <div fxLayout="row" fxLayoutAlign="center center" class="button-div">
    <button mat-stroked-button fxFlex="auto" color="primary" [disabled]="!generateForm.valid">Save</button>
  </div>
</form>