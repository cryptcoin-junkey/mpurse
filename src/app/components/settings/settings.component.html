<h2 fxLayoutAlign="center center">Settings</h2>

<mat-divider></mat-divider>
<div fxLayout="column" class="container">
  <h2>Advanced Mode</h2>
  <mat-slide-toggle color="primary" [formControl]="advancedModeToggleControl" (change)="advancedModeChanged()">
    Advanced Mode
  </mat-slide-toggle>
</div>

<mat-divider></mat-divider>
<div *ngIf="existsVault" fxLayout="column" class="container">
  <h2>Reveal Passphrase</h2>

  <form fxLayout="column">
    <mat-form-field *ngIf="! passphrase" class="password-field">
      <input matInput autofocus [type]="hide ? 'password' : 'text'" placeholder="Enter Password" [formControl]="passwordControl" />
      <mat-icon matSuffix (click)="hide = ! hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
    </mat-form-field>

    <ng-container *ngIf="passphrase">
      <p class="attention">
        <strong>
          DO NOT share this phrase with anyone!
          These words can be used to steal all your accounts.
        </strong>
      </p>

      <mat-card class="passphrase">
        <mat-card-header *ngIf="this.advancedModeToggleControl.value">
          <mat-card-title>Seed Version: {{seedVersion}}</mat-card-title>
          <mat-card-subtitle>Derivation Path: {{basePath}}i</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content fxLayout="row">
          <p fxFlex="auto">{{passphrase}}</p>
          <button mat-icon-button (click)="copyPassphrase()">
            <mat-icon>file_copy</mat-icon>
          </button>
        </mat-card-content>
      </mat-card>
    </ng-container>

    <button mat-stroked-button *ngIf="! passphrase" fxFlex="auto" color="primary" (click)="revealPassphrase()" [disabled]="!passwordControl.valid">Reveal Passphrase</button>

  </form>
</div>

<mat-divider></mat-divider>
<div *ngIf="existsVault" fxLayout="column" class="container">
  <h2>Purge All Accounts</h2>

  <p class="attention">
    <strong>
      All account and settings will be removed from your wallet.
      Please make sure you have the original seed phrase before continuing.
    </strong>
  </p>
  <form fxLayout="column">
    <mat-checkbox class="purge-check" [formControl]="canPurgeAll" required>Purge all</mat-checkbox>
    <button mat-stroked-button fxFlex="auto" color="primary" (click)="purgeAll()" [disabled]="!canPurgeAll.valid">Purge</button>
  </form>
</div>